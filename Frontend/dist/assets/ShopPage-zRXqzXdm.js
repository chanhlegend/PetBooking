import{d as r,j as e,I as j}from"./index-DqRvvWE5.js";import{U as v}from"./userService-C2BHQw42.js";import{S as b}from"./ShopCart-DN1Pp8TU.js";import{T as w}from"./TextField-ZV8lHLtJ.js";import{B as y}from"./Button-B0OmE6cn.js";import"./index-xsH4HHeE.js";import"./Select-De476SSy.js";function P(){const[o,g]=r.useState(""),[d,f]=r.useState([]),[i,h]=r.useState([]),[s,x]=r.useState(1),n=8,m=s*n,u=m-n,p=i.slice(u,m),l=Math.ceil(i.length/n),c=t=>x(t);return r.useEffect(()=>{(async()=>{try{const a=await v.getShop();f(a),h(a)}catch(a){console.error("Lỗi khi lấy cửa hàng:",a)}})()},[]),r.useEffect(()=>{let t=[...d];o&&(t=t.filter(a=>a.name.toLowerCase().includes(o.toLowerCase()))),h(t),x(1)},[o,d]),e.jsx("div",{className:"bg-white font-sans text-gray-900",children:e.jsx("div",{className:"max-w-7xl mx-auto p-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsx("aside",{className:"flex-shrink-0 w-full md:w-60 space-y-6",children:e.jsxs("div",{className:"relative w-full h-48 rounded-lg overflow-hidden shadow",children:[e.jsx("img",{alt:"Bản đồ hiển thị vị trí với các điểm đánh dấu đỏ",className:"w-full h-full object-cover",src:"https://storage.googleapis.com/a1aa/image/ef2cd366-a061-4bc9-ba96-3437024a732c.jpg",width:"240",height:"192"}),e.jsx("div",{className:"absolute top-1 left-1 bg-black bg-opacity-70 text-white text-xs px-2 py-0.5 rounded",children:"Bản đồ"})]})}),e.jsxs("main",{className:"flex-1",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-3 mb-6",children:[e.jsx("div",{className:"relative flex-1 max-w-md w-full",children:e.jsx(w,{fullWidth:!0,placeholder:"Tìm kiếm cửa hàng...",variant:"outlined",size:"small",value:o,onChange:t=>g(t.target.value),InputProps:{endAdornment:e.jsx(j,{"aria-label":"Tìm kiếm",children:e.jsx("i",{className:"fas fa-search text-[#F97316]"})}),sx:{borderRadius:"0.375rem","& .MuiOutlinedInput-notchedOutline":{borderColor:"#f97316"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"#f97316"},fontSize:"0.75rem",color:"#1E1E4F"}},sx:{"& .MuiInputBase-input::placeholder":{color:"#f97316",opacity:1}}})}),e.jsx(y,{variant:"contained",sx:{bgcolor:"#f97316","&:hover":{bgcolor:"#ea580c"},textTransform:"none",fontSize:"0.75rem",px:4,py:1},children:"Tìm kiếm"})]}),e.jsxs("h2",{className:"text-lg font-bold text-[#1E1E4F] mb-4",children:["Cửa Hàng (",i.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:p.length>0?p.map(t=>e.jsx(b,{shop:t,width:200,height:320},t._id)):e.jsx("p",{className:"text-sm text-gray-600 col-span-full text-center",children:"Không tìm thấy cửa hàng nào phù hợp với bộ lọc."})}),l>1&&e.jsx("nav",{className:"flex justify-center mt-6",children:e.jsxs("ul",{className:"flex items-center space-x-1",children:[e.jsx("li",{children:e.jsx("button",{onClick:()=>c(Math.max(1,s-1)),disabled:s===1,className:`px-3 py-1 rounded-md ${s===1?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-orange-100"}`,children:"<"})}),Array.from({length:l},(t,a)=>a+1).map(t=>e.jsx("li",{children:e.jsx("button",{onClick:()=>c(t),className:`px-3 py-1 rounded-md ${s===t?"bg-[#F97316] text-white":"text-gray-700 hover:bg-orange-100"}`,children:t})},t)),e.jsx("li",{children:e.jsx("button",{onClick:()=>c(Math.min(l,s+1)),disabled:s===l,className:`px-3 py-1 rounded-md ${s===l?"text-gray-400 cursor-not-allowed":"text-gray-700 hover:bg-orange-100"}`,children:">"})})]})})]})]})})})}export{P as default};
