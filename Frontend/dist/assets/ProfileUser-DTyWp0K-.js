import{e as N,f as C,d as c,u as w,h as be,P as H,F as z,i as ve,k as b,l as v,s as m,j as e,m as u,n as S,M as je,B as ye,o as L,b as k,A as Ne}from"./index-DqRvvWE5.js";import{U as E}from"./userService-C2BHQw42.js";import{T as Ce,R as V,F as j,a as y}from"./RadioGroup-CoaTPK0g.js";import{T as p}from"./TextField-ZV8lHLtJ.js";import{B as R}from"./Button-B0OmE6cn.js";import"./index-xsH4HHeE.js";import"./Select-De476SSy.js";function we(t){return C("MuiDialog",t)}const F=N("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),G=c.createContext({}),Se=m(ye,{name:"MuiDialog",slot:"Backdrop",overrides:(t,s)=>s.backdrop})({zIndex:-1}),ke=t=>{const{classes:s,scroll:a,maxWidth:o,fullWidth:n,fullScreen:l}=t,r={root:["root"],container:["container",`scroll${u(a)}`],paper:["paper",`paperScroll${u(a)}`,`paperWidth${u(String(o))}`,n&&"paperFullWidth",l&&"paperFullScreen"]};return S(r,we,s)},De=m(je,{name:"MuiDialog",slot:"Root"})({"@media print":{position:"absolute !important"}}),Pe=m("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.container,s[`scroll${u(a.scroll)}`]]}})({height:"100%","@media print":{height:"auto"},outline:0,variants:[{props:{scroll:"paper"},style:{display:"flex",justifyContent:"center",alignItems:"center"}},{props:{scroll:"body"},style:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}}}]}),Te=m(H,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.paper,s[`scrollPaper${u(a.scroll)}`],s[`paperWidth${u(String(a.maxWidth))}`],a.fullWidth&&s.paperFullWidth,a.fullScreen&&s.paperFullScreen]}})(L(({theme:t})=>({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"},variants:[{props:{scroll:"paper"},style:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"}},{props:{scroll:"body"},style:{display:"inline-block",verticalAlign:"middle",textAlign:"initial"}},{props:({ownerState:s})=>!s.maxWidth,style:{maxWidth:"calc(100% - 64px)"}},{props:{maxWidth:"xs"},style:{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${F.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}}},...Object.keys(t.breakpoints.values).filter(s=>s!=="xs").map(s=>({props:{maxWidth:s},style:{maxWidth:`${t.breakpoints.values[s]}${t.breakpoints.unit}`,[`&.${F.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[s]+32*2)]:{maxWidth:"calc(100% - 64px)"}}}})),{props:({ownerState:s})=>s.fullWidth,style:{width:"calc(100% - 64px)"}},{props:({ownerState:s})=>s.fullScreen,style:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${F.paperScrollBody}`]:{margin:0,maxWidth:"100%"}}}]}))),We=c.forwardRef(function(s,a){const o=w({props:s,name:"MuiDialog"}),n=be(),l={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{"aria-describedby":r,"aria-labelledby":i,"aria-modal":d=!0,BackdropComponent:x,BackdropProps:D,children:X,className:Y,disableEscapeKeyDown:$=!1,fullScreen:K=!1,fullWidth:O=!1,maxWidth:_="sm",onClick:B,onClose:P,open:U,PaperComponent:J=H,PaperProps:A={},scroll:Q="paper",slots:q={},slotProps:Z={},TransitionComponent:ee=z,transitionDuration:I=l,TransitionProps:te,...se}=o,h={...o,disableEscapeKeyDown:$,fullScreen:K,fullWidth:O,maxWidth:_,scroll:Q},T=ke(h),W=c.useRef(),ae=f=>{W.current=f.target===f.currentTarget},oe=f=>{B&&B(f),W.current&&(W.current=null,P&&P(f,"backdropClick"))},M=ve(i),le=c.useMemo(()=>({titleId:M}),[M]),ne={transition:ee,...q},re={transition:te,paper:A,backdrop:D,...Z},g={slots:ne,slotProps:re},[ie,ce]=b("root",{elementType:De,shouldForwardComponentProp:!0,externalForwardedProps:g,ownerState:h,className:v(T.root,Y),ref:a}),[de,pe]=b("backdrop",{elementType:Se,shouldForwardComponentProp:!0,externalForwardedProps:g,ownerState:h}),[me,xe]=b("paper",{elementType:Te,shouldForwardComponentProp:!0,externalForwardedProps:g,ownerState:h,className:v(T.paper,A.className)}),[he,ue]=b("container",{elementType:Pe,externalForwardedProps:g,ownerState:h,className:T.container}),[ge,fe]=b("transition",{elementType:z,externalForwardedProps:g,ownerState:h,additionalProps:{appear:!0,in:U,timeout:I,role:"presentation"}});return e.jsx(ie,{closeAfterTransition:!0,slots:{backdrop:de},slotProps:{backdrop:{transitionDuration:I,as:x,...pe}},disableEscapeKeyDown:$,onClose:P,open:U,onClick:oe,...ce,...se,children:e.jsx(ge,{...fe,children:e.jsx(he,{onMouseDown:ae,...ue,children:e.jsx(me,{as:J,elevation:24,role:"dialog","aria-describedby":r,"aria-labelledby":M,"aria-modal":d,...xe,children:e.jsx(G.Provider,{value:le,children:X})})})})})});function Me(t){return C("MuiDialogActions",t)}N("MuiDialogActions",["root","spacing"]);const Fe=t=>{const{classes:s,disableSpacing:a}=t;return S({root:["root",!a&&"spacing"]},Me,s)},Re=m("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,!a.disableSpacing&&s.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),$e=c.forwardRef(function(s,a){const o=w({props:s,name:"MuiDialogActions"}),{className:n,disableSpacing:l=!1,...r}=o,i={...o,disableSpacing:l},d=Fe(i);return e.jsx(Re,{className:v(d.root,n),ownerState:i,ref:a,...r})});function Be(t){return C("MuiDialogContent",t)}N("MuiDialogContent",["root","dividers"]);function Ue(t){return C("MuiDialogTitle",t)}const Ae=N("MuiDialogTitle",["root"]),Ie=t=>{const{classes:s,dividers:a}=t;return S({root:["root",a&&"dividers"]},Be,s)},ze=m("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,s)=>{const{ownerState:a}=t;return[s.root,a.dividers&&s.dividers]}})(L(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:s})=>s.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:s})=>!s.dividers,style:{[`.${Ae.root} + &`]:{paddingTop:0}}}]}))),He=c.forwardRef(function(s,a){const o=w({props:s,name:"MuiDialogContent"}),{className:n,dividers:l=!1,...r}=o,i={...o,dividers:l},d=Ie(i);return e.jsx(ze,{className:v(d.root,n),ownerState:i,ref:a,...r})}),Le=t=>{const{classes:s}=t;return S({root:["root"]},Ue,s)},Ee=m(Ce,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),Ve=c.forwardRef(function(s,a){const o=w({props:s,name:"MuiDialogTitle"}),{className:n,id:l,...r}=o,i=o,d=Le(i),{titleId:x=l}=c.useContext(G);return e.jsx(Ee,{component:"h2",className:v(d.root,n),ownerState:i,ref:a,variant:"h6",id:l??x,...r})}),Ge=k(e.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"})),Xe=k(e.jsx("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"})),Ye=k(e.jsx("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"})),Ke=k(e.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}));function Oe({user:t}){return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 select-none h-full",children:[e.jsx("div",{className:"flex justify-center mb-3",children:e.jsx(Ne,{alt:t?t.name:"User Avatar",src:t?t.avatar:"https://via.placeholder.com/96",sx:{width:96,height:96}})}),e.jsx("p",{className:"text-center text-[20px] text-black mb-3 font-semibold",children:t?t.name:"Người dùng mới"}),e.jsxs("ul",{className:"space-y-3 text-xs text-black ml-14 mt-8",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(Ye,{sx:{color:"#d95a1a",fontSize:"24px"}}),e.jsx("span",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Thông báo"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(Ke,{sx:{color:"#d95a1a",fontSize:"24px",mt:"2px"}}),e.jsxs("div",{className:"leading-tight",children:[e.jsx("p",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Tài Khoản Của tôi"}),e.jsx("p",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Xem lịch đã đặt"}),e.jsx("p",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Ngân Hàng"}),e.jsx("p",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Địa Chỉ"}),e.jsx("p",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Đổi Mật Khẩu"}),e.jsx("p",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Cài Đặt Thông Báo"}),e.jsx("p",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Những Thiết Lập Riêng Tư"})]})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(Xe,{sx:{color:"#d95a1a",fontSize:"24px"}}),e.jsx("span",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Đơn Mua"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{sx:{color:"#d95a1a",fontSize:"24px"}}),e.jsx("span",{className:"text-[14px] mt-2 font-semibold ml-1",children:"Lịch khám"})]})]})]})}function _e({title:t,subTitle:s}){return e.jsx("div",{className:"bg-white shadow-md rounded-lg mb-3",children:e.jsxs("div",{className:"mx-auto py-6 px-4 flex flex-col items-center sm:px-6 lg:px-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-custom-blue",children:t}),e.jsx("h5",{className:"text-sm text-gray-600 mt-2",children:s})]})})}const Je=({open:t,onClose:s,user:a})=>{const[o,n]=c.useState({name:"",address:"",email:"",phone:"",gender:!0});c.useEffect(()=>{a&&n({name:a.name||"",address:a.address||"",email:a.email||"",phone:a.phone||"",gender:a.gender||!0})},[a]);const l=i=>{const{name:d,value:x}=i.target;n(D=>({...D,[d]:d==="gender"?x==="true":x}))},r=async()=>{try{await E.updateUser(a._id,o)}catch(i){console.error("Lỗi khi cập nhật thông tin người dùng:",i)}s(),window.location.href=`/profile/${a._id}`};return e.jsxs(We,{open:t,onClose:s,fullWidth:!0,maxWidth:"sm",children:[e.jsx(Ve,{children:"Chỉnh sửa hồ sơ"}),e.jsxs(He,{dividers:!0,children:[e.jsx(p,{label:"Tên",name:"name",fullWidth:!0,margin:"dense",value:o.name,onChange:l}),e.jsx(p,{label:"Địa chỉ",name:"address",fullWidth:!0,margin:"dense",value:o.address,onChange:l}),e.jsx(p,{label:"Email",name:"email",fullWidth:!0,margin:"dense",value:o.email,onChange:l}),e.jsx(p,{label:"Số điện thoại",name:"phone",fullWidth:!0,margin:"dense",value:o.phone,onChange:l}),e.jsxs(V,{row:!0,name:"gender",value:o.gender,onChange:l,sx:{mt:2},children:[e.jsx(j,{value:!0,control:e.jsx(y,{}),label:"Nam"}),e.jsx(j,{value:!1,control:e.jsx(y,{}),label:"Nữ"})]})]}),e.jsxs($e,{children:[e.jsx(R,{onClick:s,children:"Hủy"}),e.jsx(R,{variant:"contained",onClick:r,children:"Lưu"})]})]})},ot=()=>{const[t,s]=c.useState(null),[a,o]=c.useState(!1);return c.useEffect(()=>{const n=window.location.pathname.split("/").pop();(async()=>{try{const r=await E.getUserById(n);s(r)}catch(r){console.error("Error fetching user:",r)}})()},[]),e.jsx("div",{className:"bg-[#FFFAF6] min-h-screen ",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4",children:[e.jsx("div",{className:"col-span-1",children:e.jsx(Oe,{user:t})}),e.jsxs("div",{className:"col-span-3",children:[e.jsx(_e,{title:"Hồ sơ của tôi",subTitle:"Quản lý thông tin hồ sơ để bảo mật tài khoản của bạn"}),e.jsxs("div",{className:"bg-white rounded-xl shadow-md flex flex-col md:flex-row p-8 md:p-12 gap-8 md:gap-12",children:[e.jsxs("div",{className:"flex-1 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"name",className:"w-28 font-semibold text-sm text-black select-none",children:"Tên"}),e.jsx(p,{id:"name",variant:"outlined",size:"small",placeholder:"",fullWidth:!0,value:(t==null?void 0:t.name)??"",InputProps:{className:"bg-[#fef3ef]"}})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"address",className:"w-28 font-semibold text-sm text-black select-none",children:"Địa chỉ"}),e.jsx(p,{id:"address",variant:"outlined",size:"small",placeholder:"",fullWidth:!0,value:t?t.address:"Chưa cập nhật",InputProps:{className:"bg-[#fef3ef]"}})]}),e.jsxs("div",{className:"flex items-center gap-4 relative",children:[e.jsx("label",{htmlFor:"email",className:"w-28 font-semibold text-sm text-black select-none",children:"Email"}),e.jsx(p,{id:"email",variant:"outlined",size:"small",placeholder:"",fullWidth:!0,value:t?t.email:"",InputProps:{className:"bg-[#fef3ef]"}})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("label",{htmlFor:"phone",className:"w-28 font-semibold text-sm text-black select-none",children:"Số điện thoại"}),e.jsx(p,{id:"phone",type:"tel",variant:"outlined",size:"small",placeholder:"",fullWidth:!0,value:t?t.phone:"",InputProps:{className:"bg-[#fef3ef]"}})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"w-28 font-semibold text-sm text-black select-none",children:"Giới tính"}),e.jsxs(V,{row:!0,name:"gender",defaultValue:"nam",children:[e.jsx(j,{value:"nam",control:e.jsx(y,{}),label:"Nam",...t&&t.gender==="true"?{checked:!0}:{}}),e.jsx(j,{value:"nu",control:e.jsx(y,{}),label:"Nữ",...t&&t.gender==="false"?{checked:!0}:{}})]})]}),e.jsxs("div",{className:"flex justify-center mt-6",children:[e.jsx(R,{variant:"contained",style:{backgroundColor:"#d3542a"},className:"rounded-full px-10 py-2 text-white hover:bg-[#b84320]",onClick:()=>o(!0),children:"Chỉnh sửa"}),e.jsx(Je,{open:a,onClose:()=>o(!1),user:t})]})]}),e.jsxs("div",{className:"flex flex-col items-center justify-start gap-4 border-l border-gray-300 pl-8 min-w-[180px]",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-300 flex items-center justify-center",children:e.jsx("i",{className:"fas fa-user text-white text-3xl"})}),e.jsx("button",{className:"border border-gray-400 rounded-md px-4 py-1 text-sm text-black hover:bg-gray-100 transition-colors",type:"button",children:"Chọn ảnh"}),e.jsxs("p",{className:"text-[10px] text-gray-500 text-center leading-tight",children:["Dung lượng file tối đa 1 MB",e.jsx("br",{}),"Định dạng:.JPEG, .PNG"]})]})]})]})]})})};export{ot as default};
