import{a as n}from"./index-xsH4HHeE.js";const a="https://petbooking-backend.onrender.com/api/user/account",h={login:async(s,r)=>{var e,t;if(s==="admin@gmail.com"&&r==="123456"){const o={email:s,fullname:"Admin",role:"admin"};return localStorage.setItem("user",JSON.stringify(o)),window.location.href="/",{user:o}}else try{const i=(await n.post(`${a}/login`,{email:s,password:r})).data.user;return localStorage.setItem("user",JSON.stringify(i)),window.location.href="/",{user:i}}catch(o){throw new Error(((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.message)||"Đăng nhập thất bại")}},register:async(s,r,e,t)=>{var o,i;try{return(await n.post(`${a}/register`,{fullname:s,email:r,password:e,role:t})).data}catch(c){throw new Error(((i=(o=c.response)==null?void 0:o.data)==null?void 0:i.message)||"Đăng ký thất bại")}},getOTPVerify:async s=>{var r,e;try{return(await n.post(`${a}/email`,{email:s})).data}catch(t){throw console.error("Lỗi khi gọi getOTPVerify:",t),new Error(((e=(r=t.response)==null?void 0:r.data)==null?void 0:e.message)||"Lấy OTP thất bại")}},verifyOTP:async(s,r)=>{var e,t;try{return(await n.post(`${a}/verify`,{email:s,otp:r})).data}catch(o){throw new Error(((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.message)||"Xác thực OTP thất bại")}},getShop:async()=>{var s,r;try{return(await n.get(`${a}/shop`)).data}catch(e){throw console.error("Lỗi khi gọi getShop:",e),new Error(((r=(s=e.response)==null?void 0:s.data)==null?void 0:r.message)||"Lấy thông tin cửa hàng thất bại")}},getUserById:async s=>{var r,e;try{return(await n.get(`${a}/${s}`)).data}catch(t){throw console.error("Lỗi khi gọi getUserById:",t),new Error(((e=(r=t.response)==null?void 0:r.data)==null?void 0:e.message)||"Lấy thông tin người dùng thất bại")}},updateUser:async(s,r)=>{var e,t;try{return(await n.post(`${a}/change-profile/${s}`,{name:r.name,address:r.address,email:r.email,phone:r.phone,gender:r.gender,dob:null})).data}catch(o){throw console.error("Lỗi khi gọi updateUser:",o),new Error(((t=(e=o.response)==null?void 0:e.data)==null?void 0:t.message)||"Cập nhật thông tin người dùng thất bại")}}};export{h as U};
